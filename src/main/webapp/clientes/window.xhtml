<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/principal.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <f:metadata>

    </f:metadata>
    <ui:define name="content">
        <f:event listener="#{clienteBean.listarTabla(false)}" type="preRenderView"/>
        <f:event listener="#{departamentobean.listarCombo(false)}" type="preRenderView"/>
        <h:form id="frm-cliente">
            <p:messages autoUpdate="true"/>
            <p:panelGrid columns="6" 
                         class="border-interno-none
                         center-panelgrid
                         padding-size
                         size-components">

                <f:facet name="header">
                    <p:outputLabel value="Registrar Cliente"/>
                </f:facet>

                <p:outputLabel value="Codigo"/>
                <p:inputText value="#{clienteBean.cliente.codigo}"/>
                <p:column/>
                <p:column/>
                <p:column/>
                <p:column/>

                <p:outputLabel value="Razon Social"/>
                <p:inputText value="#{clienteBean.cliente.razonSocial}"/>
                <p:column/>
                <p:column/>
                <p:column/>
                <p:column/>


                <p:outputLabel value="Nombre Contacto"/>
                <p:inputText value="#{clienteBean.cliente.nombreContacto}"/>

                <p:outputLabel value="Sobre Nombre"/>
                <p:inputText value="#{clienteBean.cliente.nombreFantasia}">
                    <p:ajax event="change" listener="#{ciudadbean.test()}"/>
                </p:inputText>


                <p:outputLabel value="R.U.C."/>
                <p:inputMask mask="9999999-9" value="#{clienteBean.cliente.ruc}"/>

                <p:outputLabel value="Direccion"/>
                <p:inputText value="#{clienteBean.cliente.direccion}"/>

                <p:outputLabel value="Telefono"/>
                <p:inputText value="#{clienteBean.cliente.telefono}"/>

                <p:outputLabel value="Telefono Movil"/>
                <p:inputText value="#{clienteBean.cliente.celular}"/>

                <p:outputLabel value="Email"/>
                <p:inputText value="#{clienteBean.cliente.email}"/>

                <p:outputLabel value="Forma Pago"/>
                <p:selectOneMenu>
                    <f:selectItem itemValue="#{null}" itemLabel="Forma de Pago"/>
                    <f:selectItem itemValue="CR" itemLabel="Credito"/>
                    <f:selectItem itemValue="CO" itemLabel="FC"/>
                </p:selectOneMenu>

                <p:outputLabel value="Departamento"/>
                <p:selectOneMenu value="#{clienteBean.cliente.idDepartamento}"
                                 converter="omnifaces.SelectItemsConverter">

                    <p:ajax event="change"
                            listener="#{ciudadBean.test()}"
                            process="@this" update="@form">
                    </p:ajax>
                    <f:selectItem itemValue="#{null}" itemLabel="Departamento" noSelectionOption="true"/>
                    <f:selectItems value="#{departamentobean.lista}"
                                   var="departamento"
                                   itemLabel="#{departamento.descripcion}"
                                   itemValue="#{departamento}"/>

                </p:selectOneMenu>

                <p:outputLabel value="Ciudad"/>
                <p:selectOneMenu value="#{clienteBean.cliente.idCiudad}" 
                                 id="id-selectonemenu-ciudad"
                                 converter="omnifaces.SelectItemsConverter">
                    <f:selectItem itemValue="#{null}" itemLabel="Ciudad" noSelectionOption="true"/>
                    <f:selectItems value="#{ciudadbean.lista}"
                                   var="ciudad"
                                   itemLabel="#{ciudad.descripcion}"
                                   itemValue="#{ciudad}"/>
                </p:selectOneMenu>

                <p:outputLabel value="Lista Precio"/>
                <p:selectOneMenu>
                    <f:selectItem itemValue="#{null}" itemLabel="Lista Precio"/>
                </p:selectOneMenu>

                <p:outputLabel value="Limite de Credito"/>
                <p:outputLabel value="450000"/>

                <p:outputLabel value="Estado"/>
                <p:selectOneMenu>
                    <f:selectItem itemValue="#{null}" itemLabel="Estado"/>
                    <f:selectItem itemValue="ACTIVO" itemLabel="Activo"/>
                    <f:selectItem itemValue="INACTIVO" itemLabel="Inactivo"/>
                </p:selectOneMenu>

                <p:column/>
                <p:column/>
                <p:column/>
                <p:column/>
                <f:facet name="footer">
                    <p:commandButton value="Guardar"
                                     immediate="true"
                                     class="save-button"
                                     actionListener="#{ciudadBean.test()}"/>
                </f:facet>
            </p:panelGrid>
        </h:form>
    </ui:define>

</ui:composition>
